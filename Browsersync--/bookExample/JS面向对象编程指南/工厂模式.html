<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>
<script>
  var MYAPP = {};
  MYAPP.dom = {};
  MYAPP.dom.Text = function () {
    this.insert = function (where) {
      var txt = document.createTextNode(this.url);
      where.appendChild(txt);
    }
  };
  MYAPP.dom.Link = function () {
    this.insert = function (where) {
      var im = document.createElement('a');
      link.href = this.url;
      link.appendChild(document.createTextNode(this.url));
      where.appendChild(link);
    }
  };
  MYAPP.dom.Image = function () {
    this.insert = function (where) {
      var im = document.createElement('img');
      im.src = this.url;
      where.appendChild(im);
    }
  };
  /*
  var o = new MYAPP.dom.Image();
  o.url = 'http://images.packtpub.com/images/PacktLogoSmall.png';
  o.insert(document.body);
  var o = new MYAPP.dom.Text();
  o.url = 'http://images.packtpub.com/images/PacktLogoSmall.png';
  o.insert(document.body);
  var o = new MYAPP.dom.Link();
  o.url = 'http://images.packtpub.com/images/PacktLogoSmall.png';
  o.insert(document.body);
  当程序需要根据用户选择来决定对象的创建时，我们并不知道应该先创建哪一种对象
  */
  /*
  var o;
  if(type === 'Image'){
    o = new MYAPP.dom.Image();
  }
  if(type === 'Link'){
    o = new MYAPP.dom.Link();
  }
  if(type === 'Text'){
    o = new MYAPP.dom.Text();
  }
  o.url = 'http://images.packtpub.com/images/PacktLogoSmall.png';
  o.insert(document.body);
  如果构造器很多，代码就会很长
  */

//  考虑这种动态创建对象的操作委托给一个工厂函数
  MYAPP.dom.factory = function (type) {
    return new MYAPP.dom[type];
  };
  var o = MYAPP.dom.factory(type);
  o.url = 'http://images.packtpub.com/images/PacktLogoSmall.png';
  o.insert(document.body);
</script>
</body>
</html>