PC - 二层交换机 - FTP
ARP表 - 交换机MAC地址表 - ARP表

二层交换机（MAC地址）如何实现准确转发？
构建MAC地址表：记录mac地址、交换机VLAN和交换机端口的对应关系，
收到数据包时，将源mac和接收到的端口写入表；
收到数据包后提取二层头部目的mac查表
查不到则除了接收端口的其余所有端口发送数据

表维护和老化机制
当交换机接口donw掉，清除该端口相关mac地址
当某端口一段时间默认5分钟不发送任何报文时，会清除该端口相关mac地址

二层交换机有VLAN和TRUNK概念

VLAN是在物理网络划分出来的逻辑网络，
每个VLAN用一个数字表示，每个VLAN相当于独立交换机，
不同VLAN不能通讯，
默认交换机所有端口都属于VLAN1；

VLAN配置
1、创建VLAN
2、将交换机端口划分到VLAN里

以太网端口有三种链路类型：
1  Access类型的端口只能属于1个VLAN，一般用于连接计算机的端口；
2  Trunk类型的端口可以允许多个VLAN通过，可以接收和发送多个VLAN的报文，一般用于交换机之间连接的端口；
3  Hybrid类型的端口可以允许多个VLAN通过，可以接收和发送多个VLAN的报文，可以用于交换机之间连接，也可以用于连接用户的计算机。

交换机接口出入数据处理过程如下：
1.access
接收：当数据没有tag时打上pvidtag进入,若有则看是否与pvid相等，相等则接收，不想等则丢弃。
转发：看tag是否等于pvid，若等则去tag发送，否则不处理。
2.trunk
接收：若数据没有带tag时。则打上pvidtag进入，若有，则看tag是否在allow列表，如在则进入，否则丢弃
转发：看tag是否在allow列表，不在则不处理，若在则看tag是否等于pvid，若等则去tag转发，不等则带tag转发
3.hybrid
接收：若数据没有带tag则打上pvidtag进入，若有则看tag是否属于tagged/untagged表，属于则进入，否则丢弃
转发：看数据tag是否在tagged/untagged表，不做则不处理，若在则看属于那个表，若属于tagged则带tag转发，否则untaged去tag转发

TRUNK 交换机之间互联的接口
数据从Trunk接口转发出去后，添加Tag标记，该标记包含原来的VLAN；
数据从Access口转发出去时，去掉Tag标记，数据只能转发给原始VLAN端口；
交换机Trunk默认只转发当前设备已经建立的VLAN的数据；