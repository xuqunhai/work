在 Linux 中我们可以通过 /etc/nsswitch.conf 配置文件修改 DNS 查询的顺序。

通过 sudo vim /etc/nsswitch.conf 打开该配置文件，往下查看就可以看到这样的配置：

hosts:      files dns

这里的 files 代表的就是 /etc/hosts 文件，dns 代表的是系统配置的 DNS 服务器地址。
所以在 Linux 中默认是先查询 hosts 文件中的记录，然后再请求 DNS 服务器。

hosts 文件在本地相比于请求 DNS 服务器的方式快速，
通常会在 hosts 文件中存放常用的 DNS 记录与开发中测试使用的服务器记录。

hosts 文件的记录格式非常的简单：
IP 地址  域名或者 hostname

例如我们当前机器中的 hosts 文件 cat /etc/hosts:

##
# Host Database
#
# localhost is used to configure the loopback interface
# when the system is booting.  Do not change this entry.
##
127.0.0.1	localhost
255.255.255.255	broadcasthost
::1             localhost

::1 是 IPv6 的本地地址表示方式，类似于 IPv4 中 127.0.0.1 后面紧跟着的就是主机名。




系统设定的 DNS 服务器配置文件位于cat /etc/resolv.conf:
#
# macOS Notice
#
# This file is not consulted for DNS hostname resolution, address
# resolution, or the DNS query routing mechanism used by most
# processes on this system.
#
# To view the DNS configuration used by this system, use:
#   scutil --dns
#
# SEE ALSO
#   dns-sd(1), scutil(8)
#
# This file is automatically generated.
#
nameserver 10.0.0.1
nameserver 10.0.0.2

nameserver 后面对应的便是内网中的 DNS 服务器地址，一般会配置两个，防止一个不可用而导致无法域名解析。