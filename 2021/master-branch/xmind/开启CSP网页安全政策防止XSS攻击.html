<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy"
        content="script-src 'self'; object-src 'none'; style-src cdn.example.org third-party.org; child-src https:">
    <title>Document</title>
</head>

<body>
    <pre>
        CSP是网页安全政策(Content Security Policy)的缩写。
        CSP 的实质就是白名单制度，开发者明确告诉客户端，哪些外部资源可以加载和执行;
        开启方式
    　　一种是：通过 HTTP 头信息的Content-Security-Policy的字段;
    　　一种是：在网页中设置meta标签;

        script-src 的特殊值
        'unsafe-inline'：允许执行页面内嵌的script标签和事件监听函数
        'unsafe-eval'：允许将字符串当作代码执行，比如使用eval、setTimeout、setInterval等函数。
        'nonce'值：每次HTTP回应给出一个授权token，页面内嵌脚本必须有这个token，才会执行
        'hash'值：列出允许执行的脚本代码的Hash值，页面内嵌脚本的哈希值只有吻合的情况下，才能执行
        
        XSS 中 DOM Based XSS  (innerHTML)
        function test() {
            var str=document.getElementById("text").value;
            document.getElementById("t").innerHTML="<a href='"+str+"'>testlink</a>";
        }
    </pre>
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
</body>

</html>